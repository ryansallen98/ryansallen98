---
import "@styles/global.css";

import ShellLayout from "@layouts/ShellLayout.astro";
import Header from "@components/layout/Header.astro";
import Footer from "@components/layout/Footer.astro";
import ComingSoon from "@components/content/ComingSoon.astro";
import { ClientRouter } from "astro:transitions";

const isComingSoon = import.meta.env.COMING_SOON!;

const { chrome = true } = Astro.props;
---

<ShellLayout {...Astro.props}>
  <Fragment slot="head">
    <link
      rel="preload"
      href="/fonts/Anton-Regular.woff2"
      as="font"
      type="font/woff2"
      crossorigin
    />
    <link
      rel="preload"
      href="/fonts/Inter_24pt-Regular.woff2"
      as="font"
      type="font/woff2"
      crossorigin
    />
    <link
      rel="preload"
      href="/fonts/Inter_24pt-Medium.woff2"
      as="font"
      type="font/woff2"
      crossorigin
    />
    <ClientRouter />
  </Fragment>
  {isComingSoon ? 
    <ComingSoon />
    :
    <>
      {chrome && <Header />}
      <main>
        <slot />
      </main>
      {chrome && <Footer />}
      <script src="@scripts/global"></script>
    </>
  }
</ShellLayout>
